<!--
  Generated template for the PerspectiveDetailPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->


<ion-header class="shadow" no-border [class.statusbar-padding]="isCordova">
    <ion-toolbar color="light">
        <ion-buttons slot="start">
            <button ion-button color="dark"  (click)='close()' large icon-only clear>
                <ion-icon name="close"></ion-icon>
            </button>
        </ion-buttons>
        <ion-title>{{dateTitle}}</ion-title>
    </ion-toolbar>
  </ion-header>
  <ion-content padding no-bounce class="content-container">
    <div class="wrapper">
        <ion-slides pager=true>
            <ion-slide>
                    <div class="slide-container">
                        <div class="text">{{questions[questionSelector][0]}}</div>
                        <div *ngIf="readOnly; else other">
                            <ion-range min="0" max="10" [(ngModel)]="feelingValue" color="primary" disabled>
                            <ion-badge range-left>0</ion-badge>
                            <ion-badge range-right>10</ion-badge>
                            </ion-range>
                        </div>
                        <ng-template #other>
                            <ion-range min="0" max="10" [(ngModel)]="feelingValue" (ngModelChange)="onFeelingValueChange()" color="primary">
                            <ion-badge range-left>0</ion-badge>
                            <ion-badge range-right>10</ion-badge>
                            </ion-range>                            
                        </ng-template>
                        <div class="center">
                            <ion-badge item-center>{{feelingValue}}</ion-badge>        
                        </div>
                    </div>
                </ion-slide>
                <ion-slide>
                    <div class="slide-container">
                        <div class="text">{{questions[questionSelector][1]}}</div>
                        <textarea [class]="readOnly" [placeholder]="answers[0]" [(ngModel)]="answers[0]" [readonly]="readOnly" (ngModelChange)="onTextChange()"></textarea>
                    </div>
                </ion-slide>
                <ion-slide>
                    <div class="slide-container">
                        <div class="text">{{questions[questionSelector][2]}}</div>
                        <textarea [class]="readOnly" [placeholder]="answers[1]" [(ngModel)]="answers[1]" [readonly]="readOnly" (ngModelChange)="onTextChange()"></textarea>
                    </div>
                </ion-slide>
                <ion-slide>
                    <div class="slide-container">
                        <div class="text">{{questions[questionSelector][3]}}</div>
                        <textarea [class]="readOnly" [placeholder]="answers[2]" [(ngModel)]="answers[2]" [readonly]="readOnly" (ngModelChange)="onTextChange()"></textarea>
                    </div>
                </ion-slide>
                <ion-slide> 
                    <div class="slide-container">
                        <div class="text">{{questions[questionSelector][4]}}</div> 
                        <textarea [class]="readOnly" [placeholder]="answers[3]" [(ngModel)]="answers[3]" [readonly]="readOnly" (ngModelChange)="onTextChange()"></textarea>
                    </div>
                </ion-slide>
        </ion-slides>
    </div>
  </ion-content>
  <ion-footer>
      <div class="footer">
          <button class="footer" ion-button round full color="primary" (click)="presentConfirm()" [disabled]="!isEnabled">
              Save
          </button>
      </div>
  </ion-footer>
